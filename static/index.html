<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  <title>SkIDEancer - The New Fuse IDE</title>
  <style>
    /* Preloader styles */
    html, body {
      overflow: hidden;
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Helvetica Neue", Arial, sans-serif;
    }
    .theia-preload {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #1e1e1e;
      color: #fff;
      flex-direction: column;
    }
    .theia-preload-logo {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 20px;
    }
    .theia-preload-spinner {
      width: 50px;
      height: 50px;
      border: 3px solid rgba(255,255,255,0.1);
      border-top: 3px solid #007acc;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .theia-preload-text {
      margin-top: 20px;
      font-size: 14px;
      color: rgba(255,255,255,0.7);
    }
  </style>
</head>

<body>
  <div class="theia-preload">
    <div class="theia-preload-logo">SkIDEancer</div>
    <div class="theia-preload-spinner"></div>
    <div class="theia-preload-text">Loading The New Fuse IDE...</div>
  </div>
  
  <!-- CRITICAL: Set FrontendApplicationConfigProvider BEFORE bundle.js loads -->
  <script>
    // Polyfill for older browsers
    if (typeof self === 'undefined') {
      window.self = window;
    }
    
    // Set the frontend application configuration BEFORE the bundle loads
    // This prevents the "The configuration is not set" error
    (function() {
      var config = {
        applicationName: 'SkIDEancer - The New Fuse IDE',
        defaultTheme: 'dark',
        defaultIconTheme: 'theia-file-icons',
        electron: {
          windowOptions: {}
        }
      };
      
      // Store config in a way that FrontendApplicationConfigProvider can find it
      // The Theia bundle will look for window.theia.frontend.config
      window.theia = window.theia || {};
      window.theia.frontend = window.theia.frontend || {};
      window.theia.frontend.config = config;
      
      // Also set it in the expected location for safe measure
      if (typeof self !== 'undefined') {
        self.__THEIA_FRONTEND_APPLICATION_CONFIG__ = config;
      }
    })();
  </script>
  
  <script type="text/javascript" src="./bundle.js" charset="utf-8"></script>
</body>

</html>
