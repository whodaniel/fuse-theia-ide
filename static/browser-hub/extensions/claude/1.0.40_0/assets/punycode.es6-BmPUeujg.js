const o=2147483647,t=36,n=/^xn--/,e=/[^\0-\x7F]/,r=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},s=Math.floor,i=String.fromCharCode;function u(o){throw new RangeError(c[o])}function l(o,t){const n=o.split("@");let e="";n.length>1&&(e=n[0]+"@",o=n[1]);const c=function(o,t){const n=[];let e=o.length;for(;e--;)n[e]=t(o[e]);return n}((o=o.replace(r,".")).split("."),t).join(".");return e+c}function f(o){const t=[];let n=0;const e=o.length;for(;n<e;){const r=o.charCodeAt(n++);if(r>=55296&&r<=56319&&n<e){const e=o.charCodeAt(n++);56320==(64512&e)?t.push(((1023&r)<<10)+(1023&e)+65536):(t.push(r),n--)}else t.push(r)}return t}const d=o=>String.fromCodePoint(...o),a=function(o){return o>=48&&o<58?o-48+26:o>=65&&o<91?o-65:o>=97&&o<123?o-97:t},p=function(o,t){return o+22+75*(o<26)-((0!=t)<<5)},h=function(o,n,e){let r=0;for(o=e?s(o/700):o>>1,o+=s(o/n);o>455;r+=t)o=s(o/35);return s(r+36*o/(o+38))},g=function(n){const e=[],r=n.length;let c=0,i=128,l=72,f=n.lastIndexOf("-");f<0&&(f=0);for(let o=0;o<f;++o)n.charCodeAt(o)>=128&&u("not-basic"),e.push(n.charCodeAt(o));for(let d=f>0?f+1:0;d<r;){const f=c;for(let e=1,i=t;;i+=t){d>=r&&u("invalid-input");const f=a(n.charCodeAt(d++));f>=t&&u("invalid-input"),f>s((o-c)/e)&&u("overflow"),c+=f*e;const p=i<=l?1:i>=l+26?26:i-l;if(f<p)break;const h=t-p;e>s(o/h)&&u("overflow"),e*=h}const p=e.length+1;l=h(c-f,p,0==f),s(c/p)>o-i&&u("overflow"),i+=s(c/p),c%=p,e.splice(c++,0,i)}return String.fromCodePoint(...e)},v=function(n){const e=[],r=(n=f(n)).length;let c=128,l=0,d=72;for(const o of n)o<128&&e.push(i(o));const a=e.length;let g=a;for(a&&e.push("-");g<r;){let r=o;for(const o of n)o>=c&&o<r&&(r=o);const f=g+1;r-c>s((o-l)/f)&&u("overflow"),l+=(r-c)*f,c=r;for(const v of n)if(v<c&&++l>o&&u("overflow"),v===c){let o=l;for(let n=t;;n+=t){const r=n<=d?1:n>=d+26?26:n-d;if(o<r)break;const c=o-r,u=t-r;e.push(i(p(r+c%u,0))),o=s(c/u)}e.push(i(p(o,0))),d=h(l,f,g===a),l=0,++g}++l,++c}return e.join("")},C=function(o){return l(o,function(o){return n.test(o)?g(o.slice(4).toLowerCase()):o})},w=function(o){return l(o,function(o){return e.test(o)?"xn--"+v(o):o})},b={version:"2.1.0",ucs2:{decode:f,encode:d},decode:g,encode:v,toASCII:w,toUnicode:C},x=Object.freeze(Object.defineProperty({__proto__:null,decode:g,default:b,encode:v,toASCII:w,toUnicode:C,ucs2decode:f,ucs2encode:d},Symbol.toStringTag,{value:"Module"}));export{x as p,C as t};
