{"version":3,"file":"content/youtube-integration.js","mappings":";;AAAA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAc,kBAAkB;AAChC,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,uCAAuC;AAC1D;;AAEA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA","sources":["webpack://the-new-fuse-chrome-extension/./src/v6/content/ai-studio/youtube.js"],"sourcesContent":["// YouTube Content Script\n// Enhances YouTube pages with quick-add functionality\n\nconsole.log('ðŸ“º YouTube content script loaded');\n\n// Add quick-add button to videos\nfunction addQuickAddButtons() {\n  // Find all video elements\n  const videoElements = document.querySelectorAll(\n    'ytd-video-renderer, ytd-grid-video-renderer, ytd-playlist-video-renderer'\n  );\n\n  videoElements.forEach((element) => {\n    // Skip if already has button\n    if (element.querySelector('.ai-suite-quick-add')) {\n      return;\n    }\n\n    // Get video ID\n    const videoId = getVideoId(element);\n    if (!videoId) return;\n\n    // Create quick-add button\n    const button = createQuickAddButton(videoId, element);\n\n    // Add to video element\n    const menuContainer =\n      element.querySelector('#menu') || element.querySelector('ytd-menu-renderer');\n    if (menuContainer) {\n      menuContainer.insertBefore(button, menuContainer.firstChild);\n    }\n  });\n}\n\n// Get video ID from element\nfunction getVideoId(element) {\n  const link =\n    element.querySelector('a#video-title') || element.querySelector('a.yt-simple-endpoint');\n\n  if (!link) return null;\n\n  const href = link.getAttribute('href');\n  if (!href) return null;\n\n  const match = href.match(/[?&]v=([^&]+)/);\n  return match ? match[1] : null;\n}\n\n// Create quick-add button\nfunction createQuickAddButton(videoId, videoElement) {\n  const button = document.createElement('button');\n  button.className = 'ai-suite-quick-add';\n  button.innerHTML = 'âž• AI Queue';\n  button.title = 'Add to AI processing queue';\n\n  // Style button\n  Object.assign(button.style, {\n    padding: '6px 12px',\n    marginRight: '8px',\n    background: '#6366f1',\n    color: 'white',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    fontSize: '12px',\n    fontWeight: '500',\n    transition: 'all 0.2s',\n  });\n\n  // Hover effect\n  button.addEventListener('mouseenter', () => {\n    button.style.background = '#4f46e5';\n    button.style.transform = 'translateY(-1px)';\n  });\n\n  button.addEventListener('mouseleave', () => {\n    button.style.background = '#6366f1';\n    button.style.transform = 'translateY(0)';\n  });\n\n  // Click handler\n  button.addEventListener('click', async (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // Get video details\n    const videoData = extractVideoData(videoElement, videoId);\n\n    // Send to background script\n    const response = await chrome.runtime.sendMessage({\n      type: 'QUEUE_ADD_SINGLE',\n      data: { video: videoData },\n    });\n\n    if (response.success) {\n      // Visual feedback\n      button.innerHTML = 'âœ“ Added';\n      button.style.background = '#10b981';\n\n      setTimeout(() => {\n        button.innerHTML = 'âž• AI Queue';\n        button.style.background = '#6366f1';\n      }, 2000);\n    } else {\n      button.innerHTML = 'âœ— Error';\n      button.style.background = '#ef4444';\n\n      setTimeout(() => {\n        button.innerHTML = 'âž• AI Queue';\n        button.style.background = '#6366f1';\n      }, 2000);\n    }\n  });\n\n  return button;\n}\n\n// Extract video data from element\nfunction extractVideoData(element, videoId) {\n  const titleElement = element.querySelector('#video-title');\n  const channelElement =\n    element.querySelector('#channel-name a') || element.querySelector('ytd-channel-name a');\n  const thumbnailElement = element.querySelector('img');\n  const metadataElement = element.querySelector('#metadata-line');\n\n  return {\n    id: videoId,\n    title: titleElement?.textContent?.trim() || 'Unknown',\n    channelTitle: channelElement?.textContent?.trim() || 'Unknown',\n    thumbnail: thumbnailElement?.src || '',\n    url: `https://www.youtube.com/watch?v=${videoId}`,\n    publishedAt: Date.now(), // Approximate\n  };\n}\n\n// Add context menu for selected videos\nfunction setupContextMenu() {\n  document.addEventListener('contextmenu', (e) => {\n    const videoElement = e.target.closest(\n      'ytd-video-renderer, ytd-grid-video-renderer, ytd-playlist-video-renderer'\n    );\n\n    if (videoElement) {\n      const videoId = getVideoId(videoElement);\n      if (videoId) {\n        // Store video ID for context menu\n        sessionStorage.setItem('contextMenuVideoId', videoId);\n      }\n    }\n  });\n}\n\n// Listen for messages from background\nchrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n  if (message.type === 'GET_SELECTED_VIDEOS') {\n    const selectedVideos = getSelectedVideos();\n    sendResponse({ success: true, videos: selectedVideos });\n  }\n\n  if (message.type === 'HIGHLIGHT_VIDEO') {\n    highlightVideo(message.data.videoId);\n    sendResponse({ success: true });\n  }\n});\n\n// Get currently selected videos (if multi-select is active)\nfunction getSelectedVideos() {\n  const selected = document.querySelectorAll('.ai-suite-selected');\n  return Array.from(selected).map((element) => {\n    const videoId = getVideoId(element);\n    return extractVideoData(element, videoId);\n  });\n}\n\n// Highlight a video\nfunction highlightVideo(videoId) {\n  const videoElements = document.querySelectorAll(\n    'ytd-video-renderer, ytd-grid-video-renderer, ytd-playlist-video-renderer'\n  );\n\n  videoElements.forEach((element) => {\n    const id = getVideoId(element);\n    if (id === videoId) {\n      element.style.outline = '2px solid #6366f1';\n      element.style.outlineOffset = '2px';\n\n      setTimeout(() => {\n        element.style.outline = '';\n        element.style.outlineOffset = '';\n      }, 2000);\n    }\n  });\n}\n\n// Add multi-select functionality\nfunction setupMultiSelect() {\n  let isMultiSelectMode = false;\n\n  // Listen for Ctrl/Cmd key\n  document.addEventListener('keydown', (e) => {\n    if (e.key === 'Shift') {\n      isMultiSelectMode = true;\n      document.body.style.cursor = 'crosshair';\n    }\n  });\n\n  document.addEventListener('keyup', (e) => {\n    if (e.key === 'Shift') {\n      isMultiSelectMode = false;\n      document.body.style.cursor = '';\n    }\n  });\n\n  // Click handler for multi-select\n  document.addEventListener(\n    'click',\n    (e) => {\n      if (!isMultiSelectMode) return;\n\n      const videoElement = e.target.closest(\n        'ytd-video-renderer, ytd-grid-video-renderer, ytd-playlist-video-renderer'\n      );\n\n      if (videoElement) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        // Toggle selection\n        videoElement.classList.toggle('ai-suite-selected');\n\n        if (videoElement.classList.contains('ai-suite-selected')) {\n          videoElement.style.background = 'rgba(99, 102, 241, 0.1)';\n          videoElement.style.outline = '2px solid #6366f1';\n        } else {\n          videoElement.style.background = '';\n          videoElement.style.outline = '';\n        }\n      }\n    },\n    true\n  );\n}\n\n// Initialize\nfunction init() {\n  console.log('Initializing YouTube enhancements...');\n\n  // Add quick-add buttons\n  addQuickAddButtons();\n\n  // Setup context menu\n  setupContextMenu();\n\n  // Setup multi-select\n  setupMultiSelect();\n\n  // Watch for new videos (infinite scroll)\n  const observer = new MutationObserver(() => {\n    addQuickAddButtons();\n  });\n\n  observer.observe(document.body, {\n    childList: true,\n    subtree: true,\n  });\n\n  console.log('âœ… YouTube enhancements ready');\n}\n\n// Wait for page to be ready\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', init);\n} else {\n  init();\n}\n\nconsole.log('âœ… YouTube content script ready');\n"],"names":[],"ignoreList":[],"sourceRoot":""}